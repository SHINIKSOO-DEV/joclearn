# 도메인 모델

## 도메인(Domain)
- 영토, 영지; (개인) 소유지
- **분야, 영역, 범위**
- (인터넷) 도메인

### 소프트웨어에서 도메인
- 해당 소프트웨어가 해결하고자 하는 문제 영역
- 이 시스템이 다루는 현실 세계의 주제나 비즈니스 영역
- 예시:
    - 은행 시스템이라면 → 금융 도메인
    - 병원 관리 시스템이라면 → 의료 도메인
    - 쇼핑몰이라면 → 전자상거래(이커머스) 도메인
- 도메인은 "그 분야의 개념, 규칙, 프로세스, 용어"들이 정의되는 영역

<br/>


## 도메인 모델
- 현실 세계의 비즈니스 규칙과 개념을 소프트웨어 안에서 표현한 모델
- 현실 세계의 도메인을 추상화하여 모델링한 결과물
- 도메인(문제 영역)에 존재하는 개념, 규칙, 행위, 제약을 코드로 표현한 것
- 즉, 비즈니스 로직을 표현하는 객체들의 구조적 모델이며 도메인의 개념과 규칙을 코드로 옮겨 놓은 것

### 도메인 모델의 역할
- 도메인 모델은 단순한 데이터 구조체가 아니다.
- 비즈니스 규칙과 상태 변화의 로직을 객체 안에 캡슐화해야 한다.
- 즉, 도메인 규칙(비즈니스 정책)이 도메인 모델 코드 안에 녹아 있어야 한다.


<br/>


## DDD에서의 도메인
> **DDD**: Domain-Driven Design(도메인 주도 설계)

### 도메인 개념
| **구분**                                 | **설명**                                        |
  |----------------------------------------|-----------------------------------------------|
| **도메인<br/>(Domain)**                   | 문제를 해결해야 하는 비즈니스 영역 전체                        |
| **서브도메인<br/>(Subdomain)**              | 전체 도메인을 더 작은 하위 영역으로 나눈 것 (예: 주문, 결제, 배송 등)   |
| **도메인 모델<br/>(Domain Model)**          | 도메인을 코드로 표현한 개념적 모델 (Entity, VO, Aggregate 등) |
| **유비쿼터스 언어<br/>(Ubiquitous Language)** | 도메인 전문가와 개발자가 공통으로 사용하는 언어                    |
| **도메인 계층<br/>(Domain Layer)**          | 비즈니스 로직(규칙, 정책, 계산 등)이 구현되는 코드 계층             |

<br/>

### 도메인 모델의 구성 요소
| **구성 요소**                        | **설명**                           | **예시**                                      |
|----------------------------------|----------------------------------|---------------------------------------------|
| **Entity<br/>(엔티티)**             | 고유 식별자(ID)를 가지며, 상태가 변할 수 있는 객체  | Member, Order                               |
| **Value Object<br/>(값 객체)**      | 식별자 없이 값 자체로 동등성 판단              | Email, Address, Money                       |
| **Aggregate<br/>(애그리거트)**        | 관련된 엔티티와 값 객체를 하나의 일관된 단위로 묶은 집합 | Order (→ OrderItem 포함)                      |
| **Repository<br/>(리포지토리)**       | 애그리게잇을 영속화하고 조회하는 인터페이스          | OrderRepository                             |
| **Domain Service<br/>(도메인 서비스)** | 엔티티나 값 객체에 넣기 어려운 비즈니스 로직을 담당    | PaymentService, DiscountPolicy              |
| **Domain Event<br/>(도메인 이벤트)**   | 비즈니스적으로 중요한 사건을 표현               | MemberJoined, OrderPlaced, PaymentCompleted |
